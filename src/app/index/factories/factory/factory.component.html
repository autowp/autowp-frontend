<ng-template #popover>
    <span [hidden]="!loading">
      <i class="fa fa-spinner fa-spin fa-fw" aria-hidden="true"></i>
    </span>
  <div [innerHTML]="html"></div>
</ng-template>
<span>
  <a [routerLink]="['/factories', factory.id]">{{factory.name}}</a>
  <span class="count">({{factory.count - factory.newCount}}<span *ngIf="factory.newCount > 0"
    [ngbPopover]="popover" triggers="mouseenter:mouseleave" (shown)="shown()" container="body">+{{factory.newCount}}</span>)</span>
</span>
