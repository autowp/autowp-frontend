<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item">
      <a routerLink="/" i18n>Index page</a>
    </li>
  </ol>
</nav>

<div class="page-header">
  <h1 i18n>Feedback</h1>
</div>

<div class="row">
  <div class="col-md-8 offset-md-2">
    <div class="card card-body mb-4">
      <form class="form-horizontal" (submit)="submit()" [formGroup]="form">
        <fieldset>
          <legend i18n>Feedback</legend>

          <div class="mb-3 row" *ngIf="form.controls.name as control">
            <label class="col-md-2 col-form-label" for="name" i18n>Your name</label>
            <div class="col-md-10">
              <input
                type="text"
                id="name"
                name="name"
                size="80"
                autocomplete="name"
                [class.is-invalid]="
                  (control.invalid && (control.dirty || control.touched)) || (invalidParams && invalidParams.name)
                "
                class="form-control"
                placeholder="John"
                i18n-placeholder
                formControlName="name"
              />
              <p
                *ngFor="let message of invalidParams | invalidParams: 'name'"
                [textContent]="message"
                class="invalid-feedback"
              ></p>
            </div>
          </div>
          <div class="mb-3 row" *ngIf="form.controls.email as control">
            <label class="col-md-2 col-form-label" for="email" i18n>E-mail</label>
            <div class="col-md-10">
              <input
                type="text"
                id="email"
                name="email"
                size="80"
                autocomplete="email"
                [class.is-invalid]="
                  (control.invalid && (control.dirty || control.touched)) || (invalidParams && invalidParams.email)
                "
                class="form-control"
                placeholder="john@example.com"
                i18n-placeholder
                formControlName="email"
              />
              <p
                *ngFor="let message of invalidParams | invalidParams: 'email'"
                [textContent]="message"
                class="invalid-feedback"
              ></p>
            </div>
          </div>
          <div class="mb-3 row" *ngIf="form.controls.message as control">
            <label class="col-md-2 col-form-label" for="message" i18n>Message</label>
            <div class="col-md-10">
              <textarea
                id="message"
                name="message"
                cols="80"
                rows="8"
                [class.is-invalid]="
                  (control.invalid && (control.dirty || control.touched)) || (invalidParams && invalidParams.message)
                "
                class="form-control"
                formControlName="message"
              ></textarea>
              <p
                *ngFor="let message of invalidParams | invalidParams: 'message'"
                [textContent]="message"
                class="invalid-feedback"
              ></p>
            </div>
          </div>
          <div class="mb-3 row" *ngIf="form.controls.captcha as control">
            <div class="col-md-10 offset-md-2">
              <re-captcha [siteKey]="recaptchaKey" *ngIf="recaptchaKey" (resolved)="resolved($event)"></re-captcha>
              <p
                *ngFor="let message of invalidParams | invalidParams: 'captcha'"
                [textContent]="message"
                class="invalid-feedback"
              ></p>
            </div>
          </div>
          <div class="mb-3 row">
            <div class="col-md-2"></div>
            <div class="col-md-10">
              <button type="submit" class="btn btn-primary" i18n [disabled]="!form.valid">Submit</button>
            </div>
          </div>
        </fieldset>
      </form>
    </div>
    <app-markdown
      i18n-markdown
      markdown="If you have come here to express words of support, it is possible to [express it in hard currency](/donate)"
    ></app-markdown>
  </div>
</div>
